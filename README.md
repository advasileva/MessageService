# MessageService
О проекте
---
Приложение API ASP.Net (.NET 5) для работы с сервисом сообщений

Учебный проект студентки Программной инженерии ФКН НИУ ВШЭ 

Формулировку задания можно найти в файле Task.pdf

Структура проекта
---
При проектирования применялся паттерн MVC

**Controllers:** В базовом для приложения контроллере MessageServiceController находится логика доступа к спискам пользователей и сообщений, а также обработчик запроса для их инициализации. От него наследуются 2 контроллера для работы с пользователями и сообщениями. Поскольку в них требовалось добавлять в списки новые объекты, было принято решение использовать ObservableCollection<Т> вместо List<Т> и обрабатывать событие CollectionChanged (чтобы не отслеживать изменение списков самостоятельно и сделать проект более масштабируемым). Для работы с коллекциями применялся Linq.
  
**Data Base:** По заданию требовалось записывать данные в json формате в файлы, что и было реализовано. В действительности здесь должна быть хотя бы SQLite.
  
**Models:** Класс с консантами ConfigSettings, чтобы не хардкодить пути к файлам, и два класса для описания пользователей и сообщений.
  
**Services:** DataStore для работы с файлами из Data Base, его экземпляр передаётся в контроллеры как Singleton через Dependency Injection. Generator для генерации случайных пользователей и сообщений (в качестве идентификатора пользователя следовало использовать guid, но в задании был имейл)
  
Инструкция по запуску через Docker
---
Стягивание образа с моего [DockerHub](https://hub.docker.com/repository/docker/alenavasileva/messageservice):  
```
docker pull alenavasileva/messageservice
```
Запуск контейнера: 
```
docker run -p 56789:80 alenavasileva/messageservice
```
Теперь api будет доступен по адресу http://localhost:56789/api/message-service/users
  
Для тестирования можно использовать Postman или добавленный в проект [swagger](http://localhost:56789/swagger/index.html)
